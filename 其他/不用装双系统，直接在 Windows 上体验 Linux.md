# ä¸ç”¨è£…åŒç³»ç»Ÿï¼Œç›´æ¥åœ¨ Windows ä¸Šä½“éªŒ Linux

ã€ŒMicrosoft Loves Linuxï¼ã€

è¯´å‡ºè¿™å¥è¯çš„ä¸æ˜¯æ‰€è°“çš„ IT é¢†åŸŸé‚£äº›æŠ€æœ¯ä¸“å®¶æˆ–è€…æ˜¯æ„è§é¢†è¢–ï¼Œè€Œæ˜¯æ—¶ä»»å¾®è½¯ CEO çš„è¨è’‚äºš Â· çº³å¾·æ‹‰ï¼Œåœ¨ 2015 å¹´çš„ä¸€æ¬¡æ´»åŠ¨ä¸­ï¼Œè¿™ä½ç¬¬ä¸‰ä»»å¾®è½¯ CEO è„±å£è€Œå‡ºçš„è¿™å¥è¯ï¼Œè®©è¿™ä¸ªæ›¾ç»å¼€æºç•Œæœ€å¤§æ•Œäººçš„å¾®è½¯ï¼Œæ­£å¼æ‹¥æŠ±è¿™ä¸ªå¼€æºä¸–ç•Œæœ€å¤§çš„æ“ä½œç³»ç»Ÿï¼šLinuxã€‚

![](https://cdn.sspai.com/2018/03/25/f289d70d25e33a8e41b2700a62fd03cb.jpg)

å…¶å®åœ¨äº‘è®¡ç®—é¢†åŸŸï¼Œå¾®è½¯å¾ˆæ—©ä¹‹å‰å°±è®©å…¶ Azure æ”¯æŒå¤šä¸ªæµè¡Œçš„ Linux å‘è¡Œç‰ˆï¼Œä½†å¯¹äºæ™®é€šæ¶ˆè´¹è€…è€Œè¨€ï¼ŒçœŸæ­£çš„å˜åŒ–å‘ç”Ÿåœ¨åé¢çš„ Windows 10ï¼šå¾®è½¯å®£å¸ƒå°†ä¼šåœ¨ Windows 10 å†…ç½® Linuxï¼Œè€Œé‡‡ç”¨çš„æŠ€æœ¯ä¸Šå¹¶éæ˜¯æ‰€è°“çš„ã€Œè™šæ‹ŸåŒ–ã€æŠ€æœ¯â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªå­ç³»ç»Ÿçš„ Linux å®Œå…¨æ˜¯åŸç”Ÿè¿è¡Œåœ¨ Windows 10 ä¸Šçš„ã€‚

![](https://cdn.sspai.com/2018/03/25/6a7cca29f55e4d5ee4d2de7747a3bab5.png)WSL æŠ€æœ¯å®ç°åŸç†

è€Œå¾®è½¯ç»™è¿™ä¸ª Linux ç³»ç»Ÿå‘½åä¸ºï¼šWindows Subsystem for Linuxï¼Œè€Œå¯¹äºæœ‰äº›ç³»ç»Ÿæå®¢è€Œè¨€ï¼Œè¿™ä¸ªåå­—å®åœ¨å¤ªç†Ÿæ‚‰äº†ï¼Œå› ä¸ºåœ¨ Windows 7 ä¹‹å‰ï¼Œå¾®è½¯ä¹Ÿæ›¾ç»å†…ç½®è¿‡ä¸€ä¸ª UNIX å­ç³»ç»Ÿï¼Œå¯ä»¥åŸç”Ÿè¿è¡Œ UNIX äºŒè¿›åˆ¶ç¨‹åºï¼Œä»–çš„åå­—å«åšï¼šWindows Services for UNIXã€‚

å³ä¾¿å¦‚æ­¤ï¼Œå¯¹äºå¾ˆå¤šæ™®é€šç”¨æˆ·è€Œè¨€ï¼ŒWindows Subsystem for Linux ä¹Ÿåªæ˜¯å°é²œçš„ç©ç‰©ç½¢äº†ï¼Œä½†å¯¹äºä¸å°‘è½¯ä»¶å¼€å‘ã€ç³»ç»Ÿæå®¢è€Œè¨€ï¼Œæ— éœ€é€šè¿‡è™šæ‹Ÿæœºä»¥åŠåŒç³»ç»Ÿçš„å½¢å¼ä½“éªŒ Linux ï¼Œå¹¶ä¸”å¯ä»¥å®ç°ç³»ç»Ÿçº§åˆ«çš„æ–‡ä»¶äº’æ“ä½œï¼Œå®åœ¨æ˜¯å¤ªå…·æœ‰å¸å¼•åŠ›äº†ã€‚è€Œä»Šå¤©æˆ‘ä»¬å°±ä¸€èµ·æ¥ä½“éªŒæ¢ç´¢ä¸€ç•ªã€‚

## å¦‚ä½•å¯åŠ¨ Linux å­ç³»ç»Ÿ

å¾®è½¯ä» Windows 10 å‘¨å¹´æ›´æ–°ï¼ˆbuild 14393ï¼‰å¼€å§‹å†…ç½® Windows Subsystem for Linux ç»„ä»¶æ¡†æ¶ï¼Œåªä¸è¿‡è¿™é¡¹åŠŸèƒ½å½“æ—¶è¿˜åªèƒ½ç§°ä½œæ˜¯ Beta ç‰ˆï¼Œè€Œåœ¨ Windows ç§‹å­£åˆ›æ„è€…æ›´æ–°ä¸­ï¼Œå®‰è£… Linux å­ç³»ç»Ÿå˜çš„æ›´ä¸ºç®€å•â€”â€”å¯ä»¥ç›´æ¥é€šè¿‡ Microsoft Store æ¥ä¸‹è½½å­ç³»ç»Ÿï¼Œè€Œå¯é€‰æ‹©çš„å‘è¡Œç‰ˆä¹Ÿä»æœ€åˆçš„åªæœ‰ Ubuntu å˜æˆå¯ä»¥é€‰æ‹© Suseã€Ubuntuã€Debianã€ç”šè‡³æ˜¯ç”¨æ¥è¿›è¡Œç½‘ç»œå®‰å…¨å·¥ä½œ Kail Linuxã€‚

![](https://cdn.sspai.com/2018/03/25/bc6f2007cf2b6b6d33a8d5e68431522f.png)ç›®å‰ Microsoft Store æœ‰å¤šæ¬¾ Linux å‘è¡Œç‰ˆå¯ä¾›é€‰æ‹©

åªä¸è¿‡å¦‚æœä½ æƒ³è¦ä½“éªŒè¿™äº›å‘è¡Œç‰ˆè¿˜éœ€è¦è¿›è¡Œä¸€äº›ç®€å•æ“ä½œï¼Œæ¯•ç«Ÿ Windows Subsystem for Linux ç»„ä»¶æ¡†æ¶å¹¶éæ˜¯é»˜è®¤é€‰ä¸­çš„ã€‚

é¦–å…ˆæˆ‘ä»¬éœ€è¦ç¡®è®¤è‡ªå·±çš„ Windows 10 ç‰ˆæœ¬ï¼Œä»¥ä¸‹çš„æ“ä½œæ–¹æ³•åªé€‚ç”¨ä¸ Windows 10 ç§‹å­£åˆ›æ„è€…æ›´æ–°ï¼ˆWindows 10 build 16299ï¼‰ä»¥ä¸Šç‰ˆæœ¬ï¼Œå¦‚æœä½ æ˜¯ Windows 10 å‘¨å¹´æ›´æ–°ï¼Œå®‰è£… Linux å­ç³»ç»Ÿçš„å®‰è£…åŠæ³•ä½ å¯ä»¥æ£€ç´¢ã€Œ Bash on Windowsã€è‡ªè¡Œæ¢ç´¢å®‰è£…æ–¹æ³•ã€‚æ­¤å¤–ï¼Œç³»ç»Ÿå¿…é¡»æ˜¯ 64 ä½æ“ä½œç³»ç»Ÿã€‚

![](https://cdn.sspai.com/2018/03/25/c9a281638af54268938fd6a0b7b505d7.png)å¼€å¯ã€Œé€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿã€

ä»¥ä¸Šå‡ç¡®è®¤åï¼Œæ‰“å¼€ ã€Œæ§åˆ¶é¢æ¿ã€â€”> ã€Œç¨‹åºå’ŒåŠŸèƒ½ã€ï¼Œåœ¨å·¦è¾¹çš„ã€Œå¯ç”¨å’Œå…³é—­ Windows åŠŸèƒ½ã€é‡Œé¢å‹¾é€‰ã€Œé€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿã€ï¼Œç„¶åç‚¹å‡»ç¡®å®šï¼ˆè¿™ä¸€æ­¥æœ‰å¯èƒ½éœ€è¦é‡å¯ï¼‰ã€‚

![](https://cdn.sspai.com/2018/03/25/f700748a6460dfd13dd02d1249f21733.png)

æ¥ç€æ‰“å¼€ Microsoft Storeï¼Œæœç´¢å–œæ¬¢çš„ Linux å‘è¡Œç‰ˆï¼Œè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯æˆ‘æ¯”è¾ƒç†Ÿæ‚‰çš„ Linux å‘è¡Œç‰ˆ Ubuntuï¼Œç„¶åç‚¹å‡»å®‰è£…ã€‚å¯¹äºåˆå­¦è€…æ¥è¯´ï¼ŒUbuntu/ Debian ç³»çš„å‘è¡Œç‰ˆå…·æœ‰éå¸¸å®Œå–„çš„åŒ…ç®¡ç†ç³»ç»Ÿï¼Œæ–¹ä¾¿æ–°æ‰‹å¿«é€Ÿä¸Šæ‰‹ã€‚

![](https://cdn.sspai.com/2018/03/25/d4e3151daf4d5931584c5d32e80442e4.png)

å®‰è£…å®Œæ¯•ä¹‹åï¼Œä½ å°±å¯ä»¥åœ¨ Windows å¼€å§‹èœå•ä¸­æ‰¾åˆ°ã€ŒUbuntuã€è¿™ä¸ªåº”ç”¨äº†ï¼æ¢è¨€ä¹‹ï¼Œç°åœ¨ä½ çš„ Windows 10 ä¸­å°±å·²ç»æˆåŠŸå®‰è£…å‘è¡Œç‰ˆä¸º Ubuntu çš„ Linux å­ç³»ç»Ÿã€‚

## Ubuntu å­ç³»ç»Ÿè®¾ç½®ä¸åŸºæœ¬å‘½ä»¤

åœ¨å¼€å§‹èœå•ä¸­æ‰“å¼€ Ubuntu åï¼ŒUbuntu ä¼šè¿›è¡Œè¾ƒé•¿æ—¶é—´çš„å®‰è£…å’Œåˆå§‹åŒ–ï¼Œä¹‹åä¼šæç¤ºä½ è®¾ç½® Linux çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è¿™ä¸ªç”¨æˆ·åå’Œå¯†ç å’Œ Windows å¹¶ä¸é€šç”¨ã€‚

![](https://cdn.sspai.com/2018/03/25/1c9aabe7cd1a1ec4e723754ca310fcc0.png)

è®¾ç½®å¯†ç æ˜¯éæ˜æ–‡çš„ï¼Œä¸ä¼šåƒ Windows é‚£æ ·ä½¿ç”¨ã€Œ*** ã€æ›¿ä»£ï¼Œæ‰€ä»¥ä½ åªè¦ç›²æ‰“ç‚¹å‡»ç¡®è®¤å³å¯ï¼Œå»ºè®®å¯†ç ä½¿ç”¨å¤æ‚å¯†ç ï¼Œæœ‰äº›å‘è¡Œç‰ˆä¼šæœ‰å¼ºåˆ¶è¦æ±‚ã€‚

è¾“å…¥å®Œæˆä¹‹åï¼Œç³»ç»Ÿä¼šæç¤ºä½ å¦‚ä½•ææƒæ“ä½œï¼Œä¹‹åä¼šè‡ªåŠ¨ä»¥åˆšæ‰æ–°è®¾ç½®çš„ç”¨æˆ·åç™»å½• Ubuntuã€‚

æˆ‘å®‰è£… Linux ç¬¬ä¸€ä»¶äº‹å°±æ˜¯æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬ä»¥åŠç³»ç»Ÿç³»ç»Ÿç‰ˆæœ¬ï¼Œåœ¨ Ubuntu ä¸‹ç›´æ¥è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬å·ï¼š

`uname -r`

è¿™æ—¶ç³»ç»Ÿä¼šæ˜¾ç¤ºï¼š4.4.0-43-Microsoftï¼Œè¿™è¡¨ç¤º Linux å†…æ ¸ç‰ˆæœ¬ä¸ºï¼š4.4.0-43ã€‚

è‡³äºç³»ç»Ÿç‰ˆæœ¬å·ï¼Œå¯ä»¥ä½¿ç”¨ï¼š`sudo lsb_release -a` æ¥æŸ¥çœ‹ï¼Œç³»ç»Ÿä¼šè¾“å‡ºï¼š

![](https://cdn.sspai.com/2018/03/25/630d0d1b11254249aa73a088c91102e6.png)

è¿™è¡¨ç¤º Ubuntu ç‰ˆæœ¬ä¸º 16.04ã€‚ä¸º Ubuntu çš„é•¿æœŸæ”¯æŒç‰ˆæœ¬ã€‚

## æ›´æ¢ Linux å­ç³»ç»Ÿçš„è½¯ä»¶æºå¹¶æ›´æ–°è½¯ä»¶

ä¹‹å‰æˆ‘è¯´è¿‡ä½¿ç”¨ Ubuntu /debian ç³»æœ€å¤§çš„å¥½å¤„å°±æ˜¯å¯ä»¥ä½¿ç”¨ã€Œè½¯ä»¶æºã€è¿›è¡Œè½¯ä»¶å®‰è£…ï¼Œä½¿ç”¨ Ubuntu è‡ªå¸¦çš„ deb åŒ…ç®¡ç†ç³»ç»Ÿå®‰è£…è½¯ä»¶å¯ä»¥å‡å°‘ç›´æ¥ä¸‹è½½æºç ç¼–è¯‘çš„éº»çƒ¦ï¼Œæ‰€ä»¥è¿™é‡Œå°±è¦ç”¨åˆ°ã€Œapt-getã€ç³»åˆ—å‘½ä»¤äº†ã€‚

å› ä¸ºé»˜è®¤çš„è½¯ä»¶æºæ˜¯ Ubuntu çš„å®˜æ–¹æºï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æ›¿æ¢ä¸ºå›½å†…çš„è½¯ä»¶æºï¼Œæ¯”å¦‚è¯´é˜¿é‡Œäº‘é•œåƒçš„è½¯ä»¶æºã€‚

åœ¨å½“å‰å‘½ä»¤è¡Œä¸‹é¢è¾“å…¥ï¼š

`sudo-i`

ææƒåè¾“å…¥å¯†ç ï¼Œä½¿ç”¨ root æƒé™ç™»å½•ã€‚ç„¶åæ¥ä¸‹æ¥å¤‡ä»½å½“å‰æºï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š

`cp /etc/apt/sources.list /etc/apt/sources.list.old`

ä¸éš¾çœ‹å‡ºç®¡ç†æºçš„æ–‡ä»¶å°±æ˜¯ sources.listï¼Œæˆ‘ä»¬é€‰æ‹©ç¼–è¾‘å®ƒï¼Œç¼–è¾‘å™¨æˆ‘è¿™é‡Œé€‰ç”¨çš„æ˜¯ vimï¼Œæ‰€ä»¥å‘½ä»¤æ˜¯ï¼š

`vim /etc/apt/sources.list`

ä½¿ç”¨ vim åä¼šè¿›å…¥å‘½ä»¤æ¨¡å¼ï¼Œæ•²é”®ç›˜ä¸Šçš„ ã€Œiã€é”®é”®å…¥ç¼–è¾‘æ¨¡å¼ï¼Œç„¶åå¤åˆ¶ä¸‹é¢è¿™æ®µä»£ç ï¼ˆæ‹·è´ä»£ç ï¼Œç„¶ååœ¨ç¼–è¾‘å™¨ä¸Šé¼ æ ‡å³å‡»å°±å¯ä»¥å¤åˆ¶ï¼‰ï¼š

<pre>  # deb cdrom:[Ubuntu 16.04 LTS _Xenial Xerus_ - Release amd64 (20160420.1)]/ xenial main restricted
  deb-src http://archive.ubuntu.com/ubuntu xenial main restricted #Added by software-properties
  deb http://mirrors.aliyun.com/ubuntu/ xenial main restricted
  deb-src http://mirrors.aliyun.com/ubuntu/ xenial main restricted multiverse universe #Added by software-properties
  deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted
  deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted multiverse universe #Added by software-properties
  deb http://mirrors.aliyun.com/ubuntu/ xenial universe
  deb http://mirrors.aliyun.com/ubuntu/ xenial-updates universe
  deb http://mirrors.aliyun.com/ubuntu/ xenial multiverse
  deb http://mirrors.aliyun.com/ubuntu/ xenial-updates multiverse
  deb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse
  deb-src http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse #Added by software-properties
  deb http://archive.canonical.com/ubuntu xenial partner
  deb-src http://archive.canonical.com/ubuntu xenial partner
  deb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted
  deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted multiverse universe #Added by software-properties
  deb http://mirrors.aliyun.com/ubuntu/ xenial-security universe
  deb http://mirrors.aliyun.com/ubuntu/ xenial-security multiverse
</pre>

å®Œæˆä¹‹åå†æ•²é”®ç›˜ä¸Šçš„ã€Œescã€é€€å‡ºç¼–è¾‘æ¨¡å¼ï¼Œç„¶åå†è¾“å…¥`:wq`ç‚¹å‡»ä¿å­˜å¹¶é€€å‡ºç¼–è¾‘å™¨ vimã€‚

![](https://cdn.sspai.com/2018/03/25/7f30887123a20b7913f0985a3cc424f5.png)ç¼–è¾‘è½¯ä»¶æº

ç´§æ¥ç€æˆ‘ä»¬æ›´æ–°è½¯ä»¶æºè®©ç¼–è¾‘çš„æ–‡ä»¶ç”Ÿæ•ˆï¼š

`apt-get update`

è¿™é‡Œæˆ‘ä»¬å°±å°† Ubuntu çš„è½¯ä»¶æºåˆ‡æ¢åˆ°é˜¿é‡Œäº‘çš„æºäº†ã€‚

ä¹‹åå†è¾“å…¥ï¼š`apt-get upgrade` å¯¹å½“å‰ç³»ç»Ÿçš„è½¯ä»¶å’Œç±»åº“è¿›è¡Œæ¥æ›´æ–°ã€‚å¦‚æœä¸å‡ºæ„å¤–ç³»ç»Ÿä¼šè‡ªåŠ¨å¯¹ç°æœ‰çš„è½¯ä»¶åŒ…è¿›è¡Œæ›´æ–°ï¼Œç»è¿‡è¿™ä¸€ç³»åˆ—çš„æ“ä½œï¼Œç›®å‰ Ubuntu çš„è½¯ä»¶ä»¥åŠç±»åº“éƒ½æ˜¯æœ€æ–°çš„ï¼Œè€Œç³»ç»Ÿç‰ˆæœ¬ä¹Ÿå‡çº§åˆ° Ubuntu 16.04.4 LTSã€‚

## å¯ç”¨ SSH å¹¶ä½¿ç”¨ SSH å®¢æˆ·ç«¯ç™»å½•

è™½è¯´é€šè¿‡ App æˆ–è€…åº”ç”¨çš„å½¢å¼åœ¨ Windows 10 ä¸Šä½“éªŒ Linux æ˜¯ä¸€ä¸ªä¸èµ–çš„é€‰æ‹©ï¼Œä½†å¯¹äºå¾ˆå¤šè½¯ä»¶å¼€å‘çš„æœ‹å‹è€Œè¨€ï¼Œä½¿ç”¨ Windows å†…ç½®çš„ CMD æˆ–è€… PowerShell æ¥æ“ä½œ Linux ä¾æ—§æœ‰ç€å¾ˆå¤šä¸ä¹ æƒ¯ã€‚è€Œæœ€ä¸ºå…³é”®çš„æ˜¯å½“éœ€è¦å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œæ—¶ï¼Œä½¿ç”¨äº¤äº’å‘½ä»¤è¿œä¸å¦‚ä½¿ç”¨ SFTP æ¥çš„æ›´ä¸ºã€Œç®€å•ç²—æš´ã€ã€‚å› æ­¤åªè¦é€šè¿‡é…ç½® SSH è¿œç¨‹ç™»å½•ï¼Œå°±å¯ä»¥åƒç®¡ç†è¿œç¨‹æœåŠ¡å™¨é‚£æ ·æ¥æ“ä½œè¿™ä¸ª Linux ç³»ç»Ÿäº†ã€‚

é¦–å…ˆï¼Œå› ä¸º Ubuntu ç³»ç»Ÿé™åˆ¶ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯ä»¥ä¸º root ç”¨æˆ·è®¾ç½®æ–°å¯†ç ï¼Œè¿™é‡Œè¾“å…¥ï¼š

`sudo passwd root`

é…ç½®å¥½ä¹‹åï¼Œæœªæ¥ä½¿ç”¨ SSH å®¢æˆ·ç«¯æˆ–è€… SFTP å®¢æˆ·ç«¯ç™»å½•ç³»ç»Ÿæ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ root æƒé™è¿›è¡Œç™»å½•ï¼Œå°±ä¸ç”¨ä½¿ç”¨ä¹‹å‰çš„ `sudo -i` ææƒæ“ä½œäº†ã€‚

å…¶æ¬¡æŒ‰ç…§å¸¸è§„ï¼Œæˆ‘ä»¬ä½¿ç”¨`cp` å‘½ä»¤å°† SSH ç›¸å…³é…ç½®æ–‡ä»¶è¿›è¡Œå¤‡ä»½ï¼š

`sudo cp /etc/ssh/sshd_config /etc/ssh/sshd_config.bak`

ä¹‹åä½¿ç”¨ vim ç¼–è¾‘å™¨ç¼–è¾‘ ã€Œsshd_configã€æ–‡ä»¶ï¼š

`sudo vim /etc/ssh/sshd_config`

é”®ç›˜ä¸Šç‚¹å‡» ã€Œiã€åè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œç¼–è¾‘å¹¶è°ƒæ•´ä»¥ä¸‹è®¾ç½®é¡¹ï¼š

<pre>  
  Port 8022ï¼ˆå› ä¸º Windows 10 çš„ SSH ç«¯å£å·²ç»é»˜è®¤è¢«å ç”¨ï¼Œæ‰€ä»¥æˆ‘æ¢æˆäº†ä¸€ä¸ªæ–°çš„ç«¯å£ï¼‰
  ï¼ˆå»æ‰å‰é¢çš„ #ï¼‰ListenAddress 0.0.0.0
  UsePrivilegeSeparation noï¼ˆåŸæ¥æ˜¯ yes æ”¹æˆ noï¼‰
  PermitRootLogin yes(ä¿®æ”¹æˆ yes)
  (åœ¨å‰é¢åŠ ä¸Š #)StrictModes yes
  PasswordAuthentication yesï¼ˆåŸæ¥æ˜¯ noï¼Œæ”¹æˆ yesï¼‰
</pre>

ä¹‹åç‚¹å‡» ã€ŒEscã€é€€å‡ºç¼–è¾‘æ¨¡å¼ï¼Œç›´æ¥è¾“å…¥ `:wq` é€€å‡ºå¹¶ä¿å­˜ã€‚

![](https://cdn.sspai.com/2018/03/25/b7a954479ed5adb2dda354d7d5230fff.png)ç¼–è¾‘é…ç½®æ–‡ä»¶å¹¶å¯åŠ¨ SSH

ç„¶åè¾“å…¥å‘½ä»¤ï¼š`service ssh start` å¯åŠ¨ SSHã€‚

å¦‚ä½•éªŒè¯å·²ç»å¯ä»¥è®¿é—®å‘¢ï¼Ÿæˆ‘ä»¬é¦–å…ˆæ‰“å¼€ SSH å®¢æˆ·ç«¯ï¼Œæ¯”å¦‚æˆ‘ç›®å‰ä½¿ç”¨ Xshellï¼Œé€‰æ‹©ã€Œæ–°å»ºä¼šè¯ã€ã€‚

ä¹‹ååœ¨æ–°å»ºçš„ä¼šè¯è®¾ç½®æ¡†çš„ã€Œè¿æ¥ã€ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š

<pre>  åç§°ï¼šWSLï¼ˆè¿™ä¸ªéšä¾¿å¡«ï¼‰
  åè®®ï¼šSSH
  ä¸»æœºï¼š127.0.0.1ï¼ˆæœ¬æœºç¯å›æ¥å£ï¼‰
  ç«¯å£å·ï¼š8022
</pre>

ä¹‹ååœ¨ã€Œç”¨æˆ·èº«ä»½éªŒè¯ã€ä¸­è¾“å…¥éªŒè¯æ–¹æ³•ï¼Œæ–¹æ³•é€‰æ‹© ã€ŒPasswordã€ï¼Œç„¶ååœ¨è¾“å…¥ç”¨æˆ·åï¼šrootï¼Œå¯†ç é€‰æ‹©åˆšæ‰æ–°è®¾ç½®çš„ root å¯†ç ï¼Œæœ€åç‚¹å‡»ç¡®å®šã€‚

![](https://cdn.sspai.com/2018/03/25/60863c9f3881482f3aa3f942b6b98dda.png)

ç„¶ååœ¨å·¦ä¾§çš„ä¼šè¯ç®¡ç†å™¨æ‰¾åˆ°åˆšæ‰è®¾ç½®çš„æ–°ä¼šè¯ï¼ŒåŒå‡»åå¦‚æœæ˜¾ç¤ºå¦‚ä¸‹å›¾æ‰€ç¤ºçš„ç•Œé¢å°±ç®—æ˜¯æˆåŠŸäº†ï¼

![](https://cdn.sspai.com/2018/03/25/0ca3ef403a0a54deb341d96534d7c7af.png)

é™¤äº†ä½¿ç”¨ Xshell è¿™ç§ SSH å®¢æˆ·ç«¯è¿›è¡ŒæœåŠ¡å™¨æ“ä½œä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ Xftp è¿›è¡Œæ–‡ä»¶ä¸Šä¼ å’Œç®¡ç†ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯åœ¨æ–°å»ºä¼šè¯å¤„ï¼Œåè®®é€‰æ‹©ã€ŒSFTPã€ï¼Œç«¯å£å·å’Œä¹‹å‰ Xshell ä½¿ç”¨çš„ç«¯å£å·ä¸€è‡´å³å¯ï¼Œç‚¹å‡»ç¡®è®¤ä¹‹åå‡ºç°ç±»ä¼¼ FTP ç®¡ç†çš„ç•Œé¢å°±ç®—æ˜¯æˆåŠŸäº†ï¼è¿™æ ·ä½ å°±å¯ä»¥ä½¿ç”¨æ›´ä¸ºç›´è§‚çš„å·¥å…·æ¥è®¿é—® WSL ç³»ç»Ÿçš„æ–‡ä»¶ç›®å½•ã€‚æ–°å»ºæ–‡ä»¶ä¸Šä¼ æ–‡ä»¶ä¹Ÿå˜å¾—æ›´ä¸ºç®€å•ã€‚

![](https://cdn.sspai.com/2018/03/25/e3368f985de8f04598f50c895d744758.png)

## å¼€å¯å›¾å½¢åŒ–ç•Œé¢

æ¯”èµ· Windows å’Œ macOSï¼ŒLinux å¾ˆå¤šæ—¶å€™ç»™æ™®é€šç”¨æˆ·éƒ½æ˜¯å†°å†·çš„å‘½ä»¤è¡Œå½¢è±¡ï¼Œè¿™è®©å¾ˆå¤š Linux åˆå­¦è€…æœ›è€Œå´æ­¥ï¼›ä½†å®é™…ä¸Š Linux æ˜¯å¯ä»¥ä½¿ç”¨æˆ‘ä»¬æ‰€è¯´çš„ GUI å›¾å½¢åŒ–ç•Œé¢çš„ï¼Œåªä¸è¿‡å›¾å½¢åŒ–ç•Œé¢å¹¶æ²¡æœ‰é»˜è®¤å®‰è£…ï¼Œè¿™é‡Œæˆ‘å°è¯•æ‰‹åŠ¨å®‰è£…ä¸€ä¸ªå›¾å½¢åŒ–æ¡Œé¢ã€‚

![](https://cdn.sspai.com/2018/03/25/2282d0b7f233ebcbf065219f7200b5e1.png)

ç”±äºå±äº Linux å­ç³»ç»Ÿçš„é™åˆ¶ï¼Œå› æ­¤å®‰è£…ä¸€äº›æ¯”è¾ƒã€Œé‡ã€çš„å›¾å½¢åŒ–ç•Œé¢ç»„ä»¶ä¼šå¤§é‡æ¶ˆè€—ç³»ç»Ÿèµ„æºï¼Œå› æ­¤æˆ‘é€‰æ‹©è¾ƒä¸ºè½»é‡çº§çš„å›¾å½¢åŒ–æ¡Œé¢ç»„ä»¶ï¼šMATEï¼Œä¹Ÿæ˜¯ Ubuntu MATE çš„é»˜è®¤æ¡Œé¢ç»„ä»¶ï¼Œå½“ç„¶å¦ä¸€ä¸ªè½»é‡çº§æ¡Œé¢ xfce ä½“éªŒä¹Ÿä¸é”™ã€‚

é¦–å…ˆåœ¨ç»ˆç«¯ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£… Mate æ¡Œé¢ï¼š

`sudo apt-get install mate-desktop-environment`

è¿™ä¸€æ­¥å‘½ä»¤å°±æ˜¯å®‰è£…å®Œæ•´çš„ MATE æ¡Œé¢ï¼Œè¿™ä¸ªè¿‡ç¨‹ç›¸å½“é•¿ï¼Œå› ä¸º WSL é»˜è®¤æ²¡æœ‰æ¡Œé¢ç¯å¢ƒï¼Œå¯¹åº”çš„ç›¸å…³ç»„ä»¶ä¹Ÿæ²¡æœ‰å®‰è£…ï¼Œæ‰€ä»¥å®‰è£…æ¡Œé¢ä¼šå°†ç›¸å…³çš„ç»„ä»¶ä»¥åŠä¾èµ–éƒ½ä¸€å¹¶å®‰è£…ã€‚

![](https://cdn.sspai.com/2018/03/25/670cf7d73efda57f92743ce19a8580ac.png)å®‰è£…å›¾å½¢åŒ–ç•Œé¢ä»¥åŠ VNC æœåŠ¡ç«¯

ç´§æ¥ç€æˆ‘ä»¬éœ€è¦å®‰è£…å¯ä»¥è®¿é—®å›¾å½¢åŒ–ç•Œé¢çš„è½¯ä»¶ï¼Œè¿™é‡Œä½¿ç”¨å›¾å½¢åŒ–è¿œç¨‹è®¿é—®å·¥å…·ï¼šVNCï¼›ä½ å¯ä»¥ç†è§£æˆ Windows ç”µè„‘ä¸­çš„è¿œç¨‹è®¿é—®ã€‚å½“ç„¶ VNC æœåŠ¡ç«¯ WSL ä¹Ÿæ˜¯ä¸ä¼šé»˜è®¤å®‰è£…çš„ï¼Œæ‰€ä»¥éœ€è¦è¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š

`sudo apt-get install vnc4server`

å®‰è£…å®Œæ¯•ä¹‹åéœ€è¦ä¿®æ”¹ VNC çš„é»˜è®¤å¯åŠ¨æ¡Œé¢ï¼Œè¿™æ—¶å€™è¾“å…¥ï¼š

`sed -i 's$x-window-manager$mate-session$' ~/.vnc/xstartup`

å°†é»˜è®¤å¯åŠ¨æ¡Œé¢æ”¹æˆ Mate æ¡Œé¢å¯åŠ¨ï¼Œç„¶åè¾“å…¥ï¼š`vncserver` å¯åŠ¨æœåŠ¡ç«¯ï¼ˆç¬¬ä¸€æ¬¡å¯åŠ¨éœ€è¦è®¾ç½®è¿æ¥å¯†ç ï¼‰ã€‚è¿™é‡Œ WSL ç«¯å°±åŸºæœ¬è®¾ç½®å®Œæ¯•äº†ã€‚

ä¹‹åæˆ‘ä»¬éœ€è¦åœ¨ PC ä¸Šå®‰è£… VNC çš„å®¢æˆ·ç«¯ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯ Realvncï¼Œç„¶åç›´æ¥é€‰æ‹©Â [Chrome åº”ç”¨ç‰ˆæœ¬](https://chrome.google.com/webstore/detail/vnc%C2%AE-viewer-for-google-ch/iabmpiboiopbgfabjmgeedhcmjenhbla?utm_source=chrome-app-launcher-info-dialog)ï¼Œåœ¨ Chrome å•†åº—ä¸­æ·»åŠ ä¸º Chrome ç‹¬ç«‹åº”ç”¨ã€‚

![](https://cdn.sspai.com/2018/03/25/33cb68a1bcf5b9414a2bec638e853a2e.png)

æ‰“å¼€ realvnc å¹¶åœ¨åœ°å€æ ä¸­è¾“å…¥ï¼š127.0.0.1:1 ï¼Œç‚¹è¿æ¥å¹¶è¾“å…¥è¿æ¥å¯†ç ï¼Œå¦‚æœä¸å‡ºæ„å¤–ï¼Œä½ å°±å¯ä»¥çœ‹åˆ°å®‰è£…æœ‰ mate æ¡Œé¢çš„ Ubuntu ç•Œé¢äº†ï¼

![](https://cdn.sspai.com/2018/03/25/8119fb7c520f69de813425365f2c7b70.png)

å¯è§†åŒ–æ¡Œé¢çš„ç»ˆç«¯é‡Œé¢ï¼Œä½ å¯ä»¥è¾“å…¥ `sudo apt-get install firefox` æ¥å®‰è£… Firefox æµè§ˆå™¨ï¼Œä¸ä¸€ä¼šå„¿ä½ å¯ä»¥åœ¨å·¦ä¸Šè§’èœå•æ çš„ã€ŒApplicationsã€ä¸­çš„ã€ŒInternetã€ä¸­æ‰¾åˆ° Firefox æµè§ˆå™¨å•¦ï¼å¥½äº†ï¼Œæ¥ä¸‹æ¥è¿˜èƒ½åšä»€ä¹ˆå°±è‡ªå·±å»æ¢ç´¢å§ï¼

![](https://cdn.sspai.com/2018/03/25/99b6cf4e4195671d4f19edd187a55e91.png)å›¾å½¢åŒ–çš„ Linux ç•Œé¢

## ä¸€èµ·åŠ¨æ‰‹åšï¼šæ­å»ºæœ¬åœ°é™æ€ç½‘ç«™

ç»è¿‡ä»¥ä¸Šçš„æŠ˜è…¾ï¼Œå…¶å®ä½ åº”è¯¥å¯¹ WSL æœ‰äº†æ¯”è¾ƒæ¸…æ¥šçš„è®¤è¯†äº†ï¼Œå…¶å®å¯¹äºå¾ˆå¤šå¼€å‘è€…è€Œè¨€ï¼ŒWSL æœ€å¤§çš„å¥½å¤„åœ¨äºæ›´æ¥è¿‘é¡¹ç›®ç”Ÿäº§ç¯å¢ƒï¼Œè™½è¯´ Windows æœ¬èº«æœ‰ IIS ç½‘é¡µæœåŠ¡å™¨å¯ä¾›é€‰æ‹©ã€‚ä½†ç›®å‰å¤§éƒ¨åˆ†ç½‘ç«™æœåŠ¡å™¨ç³»ç»Ÿéƒ½é‡‡ç”¨çš„æ˜¯ Linuxï¼Œè€Œç½‘é¡µæœåŠ¡å™¨ä¹Ÿå¤šæ˜¯ä½¿ç”¨ Apacheï¼Œæ‰€ä»¥åœ¨ WSL åœ¨æœ¬æœºå®Œæˆéƒ¨ç½²è°ƒè¯•åå¯èƒ½ä¼šæ¥è¿‘å®é™…ä¸€äº›ã€‚æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬åšä¸€ä¸ªå°å®è·µï¼šå°†å¼€å‘å¥½çš„ä¸€ä¸ªé™æ€ç½‘ç«™éƒ¨ç½²åˆ° WSL é‡Œé¢å¹¶å¯ä»¥ç›´æ¥è®¿é—®ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬è¦ç¡®ä¿ WSL ä¸­å®‰è£…æœ‰ Apache ç½‘é¡µæœåŠ¡å™¨ï¼Œæ‰€ä»¥å°è¯•å®‰è£…ï¼ˆä½¿ç”¨è¶…çº§ç”¨æˆ·æƒé™ï¼‰ï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥ï¼š

`apt-get install apache2`

![](https://cdn.sspai.com/2018/03/25/8045557987f35eeb544e29005fd13fa3.png)

å®‰è£…å®Œæ¯•ä¹‹ååœ¨ç»ˆç«¯ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¼€å¯ Apache ç½‘é¡µæœåŠ¡å™¨ï¼š

`service apache2 start`

å½“ç»ˆç«¯é‡Œé¢æ˜¾ç¤ºè¯¸å¦‚ã€Œ * Starting Apache httpd web server apache2ã€ä¹‹åï¼Œæ‰“å¼€æœ¬æœºçš„ç½‘é¡µæµè§ˆå™¨ï¼Œè®¿é—®ï¼š[http://127.0.0.1](http://127.0.0.1) ï¼Œå½“æ˜¾ç¤ºä»¥ä¸‹é¡µé¢å°±è¡¨ç¤º Apache ç½‘é¡µæœåŠ¡å™¨å·²ç»ç”Ÿæ•ˆï¼

![](https://cdn.sspai.com/2018/03/25/996e0eb85b23651d116f650d2d112485.png)

æ¥ä¸‹æ¥æˆ‘ä»¬å°è¯•å°†è‡ªå·±å¼€å‘çš„é™æ€ç½‘é¡µé¡¹ç›®ä¼ åˆ°å¯¹åº”çš„ç›®å½•ä¸­ï¼Œè¿™é‡Œæˆ‘ä»¬æ‰“å¼€ Xftp è¿™ä¸ªè¿œç¨‹æ–‡ä»¶å·¥å…·ï¼Œè¿æ¥åˆ° WSL è¿™ä¸ªç«™ç‚¹ï¼Œç„¶åè®¿é—® /var/www/html è¿™ä¸ªç›®å½•ï¼Œç„¶åå°†é¡¹ç›®æ–‡ä»¶å¤¹ä¼ åˆ°è¯¥ç›®å½•ä¸‹æ–¹ã€‚

![](https://cdn.sspai.com/2018/03/25/1afe77305167f6f47080d81e438ce6f9.png)

ä¾‹å¦‚æˆ‘ç°åœ¨ä¼ è¿‡å»çš„ç½‘é¡µå…¨æ™¯é¡¹ç›®åä¸ºã€Œxuyiã€ï¼Œé‚£ä¹ˆä¼ å¥½åæˆ‘æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼š[http://127.0.0.1/xuyi](http://127.0.0.1/xuyi) å°±å¯ä»¥çœ‹åˆ°åšå¥½çš„ç½‘é¡µçš„æ•ˆæœå•¦ï¼å¦‚æœä½ æ˜¯ä½¿ç”¨ chrome è®¿é—®çš„è¯ï¼ŒWappalyzer æ‰©å±•è¿˜å¯ä»¥æ˜¾ç¤ºå‡ºå½“å‰ç½‘ç«™é¡¹ç›®ä½¿ç”¨çš„æ¡†æ¶ç­‰ã€‚

![](https://cdn.sspai.com/2018/03/25/762471744aa908a2c7b98190c4953565.png)

## ç»“è¯­

è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»è¾ƒä¸ºå®Œæ•´çš„ä½“éªŒäº† Windows Subsystem for Linux çš„ä¸€äº›åŸºç¡€ç©æ³•ï¼Œå…¶å®åœ¨æˆ‘çœ‹æ¥ï¼ŒWindows 10 ä¸‹çš„ Linux å­ç³»ç»Ÿæ›´å¤šçš„æ˜¯è¡¥å……åŸæœ¬ Windows 10 åœ¨å¼€å‘é¢†åŸŸä¸Šçš„ä¸€äº›ä¸è¶³ï¼Œè®©è½¯ä»¶å¼€å‘ / ç½‘ç»œå¼€å‘äººå‘˜å¯ä»¥ä»¥è¾ƒä½çš„æˆæœ¬æ¥å®ç°ä¸ç”Ÿæˆç¯å¢ƒçš„ä¸€è‡´æ€§ï¼Œä¹Ÿä¸ç”¨å†ä¸ºäº†å¼€å‘è€Œå®‰è£…åŒç³»ç»Ÿç”šè‡³è™šæ‹Ÿæœºäº†ã€‚å½“ç„¶åœ¨æœ¬æ¬¡ä½“éªŒä¸­æˆ‘å¹¶æ²¡æœ‰æ›´æ·±å…¥çš„æ¢ç´¢ï¼Œæ¯”å¦‚è¯´åœ¨ WSL ä¸­å®‰è£… PHP ç¯å¢ƒä»¥åŠ Mysql æ•°æ®åº“ï¼Œæ‰€ä»¥å¦‚æœä½ å¯¹ Linux æ„Ÿå…´è¶£ï¼Œæƒ³è¦åœ¨ Windows 10 ä¸Šæ¢ç´¢ Linuxï¼Œç³»ç»ŸåŸç”Ÿæ”¯æŒçš„ WSL ä¸å¦¨ä¸€è¯•ã€‚

>Â ä¸‹è½½Â [å°‘æ•°æ´¾Â iOSÂ å®¢æˆ·ç«¯](http://sspai.com/s/nqQk)ã€å…³æ³¨Â [å°‘æ•°æ´¾å…¬ä¼—å·](http://sspai.com/s/KEPQ)ï¼Œè¯»æœ‰è¶£çš„å†…å®¹Â ğŸ‰


åŸæ–‡åœ°å€:https://sspai.com/post/43813